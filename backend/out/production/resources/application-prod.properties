spring.application.name=MIC-Project
spring.profiles.active=local

# Spring Cloud AWS Secrets Manager ?? ??
# ?????? ?? ?, ??? ??? ?? ??? ???? ?? ???? ??????.
# ?? Secrets Manager? ??? ??? ??/??? ???? ???.
spring.config.import=aws-secretsmanager:/secret/mic-project

# --- Server Configuration ---
server.port=8080

# --- Datasource (AWS RDS - MySQL) ---
# sensitive data is injected via environment variables (${...})
spring.datasource.url=jdbc:mysql://${RDS_HOSTNAME}:${RDS_PORT}/${DB_NAME}?useSSL=true&requireSSL=true&serverTimezone=Asia/Seoul
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# --- JPA & Hibernate ---
# 'validate' checks if the schema matches the entity definitions.
# For production, it's safer than 'update' or 'create'.
# 'none' is the safest, assuming you manage DB schema with tools like Flyway or Liquibase.
spring.jpa.hibernate.ddl-auto=validate
# Do not log SQL queries in production to avoid performance overhead and log spam
spring.jpa.show-sql=false

# --- Redis (AWS ElastiCache) ---
spring.data.redis.host=${REDIS_HOSTNAME}
spring.data.redis.port=6379
# If your ElastiCache Redis is password protected
# spring.data.redis.password=${REDIS_PASSWORD}

# --- File Upload ---
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# --- Swagger (Springdoc) ---
# Disable Swagger UI in production for security reasons
springdoc.swagger-ui.enabled=false
springdoc.api-docs.path=/v3/api-docs

# --- OAuth2 Client (Example for Google) ---
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email

# --- OPENVIDU ---
openvidu.url=${OPENVIDU_URL}
openvidu.secret=${OPENVIDU_SECRET}
# --- AWS S3 (for production) ---
cloud.aws.credentials.access-key=${AWS_ACCESS_KEY_ID}
cloud.aws.credentials.secret-key=${AWS_SECRET_ACCESS_KEY}
cloud.aws.region.static=${AWS_REGION}
cloud.aws.s3.bucket=${S3_BUCKET_NAME}